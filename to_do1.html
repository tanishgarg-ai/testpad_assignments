<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Document</title>
    <style>
        body { display: flex; }
        #left { width: 40%; padding: 10px; border-right: 1px solid #ccc; }
        #right { flex: 1; padding: 10px; }
        .task { display: flex; align-items: center; justify-content: space-between; margin: 5px 0; }
        .task span { flex: 1; margin-left: 5px; cursor: pointer; }
        .completed { text-decoration: line-through; color: gray; }
    </style>

</head>
<body>
<div id="left">
    <h3>TASK LIST</h3>
    <div id="tasks"></div>
</div>
<div id="right">
    <textarea id="input" placeholder="I need to..." style="width:100%;height:50px;"></textarea>
</div>
<script>
    let tasks = JSON.parse(localStorage.getItem("tasks") || "[]");
    const taskDiv = document.getElementById("tasks");
    function save() { localStorage.setItem("tasks", JSON.stringify(tasks)); }
    function main() {
        taskDiv.innerHTML = "";
        tasks.forEach((t,i) => {
            let div = document.createElement("div");
            div.className = "task";

            let span = document.createElement("span");
            span.textContent = t.text;
            if(t.done) span.classList.add("completed");
            span.onclick = () => { t.done = !t.done; save(); main(); };

            let edit = document.createElement("button"); edit.textContent = "Edit";
            edit.onclick = () => {
                let nt = prompt("Edit task:", t.text);
                if(nt) { t.text = nt; save(); main(); }
            };

            let del = document.createElement("button"); del.textContent = "Delete";
            del.onclick = () => { tasks.splice(i,1); save(); main(); };

            div.append(span, edit, del);
            taskDiv.appendChild(div);
        });
    }
    document.getElementById("input").addEventListener("keydown", e => {
        if(e.key === "Enter" && e.target.value.trim()){
            e.preventDefault();
            tasks.push({ text: e.target.value.trim(), done: false });
            e.target.value = "";
            save(); main();
        }
    });
    main();
</script>
</body>
</html>
